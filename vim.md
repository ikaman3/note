# vim

vim 명령어 및 단축키를 정리하는 마크다운 문서

## .vimrc

vim이 실행될 때 적용되는 설정 파일

### tab을 space 4개로 대체

```vim
set smartindent
set tabstop=4
set expandtab
set shiftwidth=4 " >> 또는 << 키로 들여 쓰기 할때 스페이스의 갯수. 기본값 8
```

## 파일 열기 및 작성

`vi` 명령어로 파일을 열었을 때

- 파일이 존재하면 파일 수정
- 파일이 존재하지 않으면 생성

### 열기

```bash
vi <filename>
```

### 파일 열고, 입력한 행으로 커서 이동

```bash
vi -<line number> <filename>
```

### '문자열' 검색하면서 열기

```bash
vi -/"<string>" <filename>
```

### 읽기 전용으로 열기

```bash
view <filename>
```

### 손상된 파일 회복

```bash
vi -r <filename>
```

## 이동

### 문자 이동

각 단축키에 해당하는 방향키를 눌러도 해당 방향으로 동일하게 이동

> h(←)  
> j(↓)  
> k(↑)  
> l(→)
>
> Back space : 한 문자 왼쪽으로 커서 이동  
> Space Bar : 한 문자 오른쪽으로 커서 이동

### 단어 이동

> e : 오른쪽 한 단어의 끝 부분으로 커서 이동  
> w : 오른쪽 한 단어의 앞 부분으로 커서 이동  
> b : 왼쪽 한 단어의 앞 부분으로 커서 이동

### 행 안에서 이동

> ^ : 행의 맨 왼쪽으로 커서 이동  
> $ : 행의 맨 오른쪽으로 커서 이동

### 행 이동

> Enter : 한 행 아래로 커서 이동  
> `<line number>G` : 지정한 라인으로 커서 이동  
> Ctrl + e : 한 줄씩 위로 이동  
> Ctrl + y : 한 줄씩 아래로 이동

### 화면 이동

> H : 화면의 맨 위로 이동  
> M : 화면의 중간으로 이동  
> L : 화면의 맨 아래로 이동
>
> Crtl + i : 한 화면 위로 이동  
> Crtl + b : 한 화면 아래로 이동  
> Ctrl + d : 반 화면 아래로 이동  
> Ctrl + u : 반 화면 위로 이동

## Insert(삽입)

### 문자 삽입

> a : 커서 오른쪽에서 삽입 모드 진입  
> A : 커서 오른쪽, 행의 끝에서 삽입 모드 진입  
> i : 커서 왼쪽에서 삽입 모드 진입  
> I : 커서 왼쪽, 행의 시작에서 삽입 모드 진입

### 행 삽입

> o : 커서 아래에 행 삽입하고, 삽입 모드 진입  
> O : 커서 위에 행 삽입하고, 삽입 모드 진입

## 텍스트 변경

### 단어 변경

> cw : 단어 변경  
> s : 커서가 위치한 문자열 대체  
> r : 커서 위치 문자를 다른 문자로 대체  
> xp : 커서 위치 문자와 오른쪽 문자 교환  
> ~ : 문자형(대, 소문자) 변경

### 행 변경

> cc : 행 변경  
> C : 커서 오른쪽의 행 변경  
> S : 커서가 위치한 줄의 문자열 대체  
> r-Enter : 행 분리  
> J : 현재 행과 아래 행 결합

## 텍스트 삭제

### 문자 삭제

> x : 커서가 있는 문자 삭제  
> nx : 커서가 있는 위치부터 n개의 문자 삭제

### 단어 삭제

> dw : 현재 커서에 있는 한 단어 삭제  
> db : 커서의 위치에서 거꾸로(?) 한 단어 삭제

### 행 삭제

> dd : 현재 커서가 있는 행 삭제  
> ndd : 커서가 있는 행부터 n개의 행 삭제  
> D : 커서 오른쪽 행 삭제  
> :5,10d : 5~10번째 행 삭제

## 복사 및 붙여넣기

### 복사

> yy : 커서가 위치한 행 복사  
> Y : 행 yank 또는 복사  
> yh : 커서의 왼쪽 문자 복사  
> yl : 커서에 위치한 문자 복사  
> yi : 커서가 위치한 행과 그 아랫줄 복사  
> yk : 커서가 위치한 행과 그 윗줄 복사  
> :1,2 co 3 : 1~2행을 3행 다음으로 복사 붙여넣기

### 블록 복사

> `v` 키를 누른 후 커서를 이동하여 블록을 설정한다.  
> 원하는 부분을 블록으로 감싸고, `y` 키를 누르면 캐시에 복사가 된다.  
> 이후 원하는 곳으로 이동하여 `p` 를 누르면 커서 다음 행에 붙여넣기 한다.

### 붙여넣기

> p : yank 되거나 삭제된 행을 현재 행 아래에 삽입  
> P : yank 되거나 삭제된 행을 현재 행 위에 삽입  
> :4,5 m 6 : 4~5행을 6행 위로 이동(삭제하면서 붙여넣기)

## 부가 기능

### 명령 취소

> u : 이전 명령 취소  
> U : 행 변경 사항 취소, 이전의 최종 행 취소

### 명령 반복

> . : 최종 명령 반복

## String(문자열)

### /string

> 문자열을 검색하여 해당 위치로 이동

검색한 상태에서

- n : 아래에서 문자열 찾기
- N (Shift + n) : 위에서 문자열 찾기

```
/cover_1.jpg
```

### %s/source/target

> 특정 문자열을 찾고, 원하는 문자열로 대체

- % : 파일 전체가 대체 명령어 실행 범위
- source : 변경하려는 원본 문자열
- target : 대체할 문자열
- c : 문자열을 대체할 때마다 확인
  - y : 대체
  - n : 건너뛰기
  - a : 모두 대체

```
%s/abc/def

%s/abc/def/c
```
