# state

## 개념 

1. 컴포넌트가 특정 정보를 기억하기를 원한다면 state를 사용한다.
2. 같은 컴포넌트를 여러 번 렌더링하면 각각의 컴포넌트는 고유한 state를 얻는다.
3. 컴포넌트 간에 데이터를 공유하고 싶다면, 해당 컴포넌트들을 모두 포함하는 상위 컴포넌트에 state를 선언하고 두 자식 컴포넌트에 전달한다.
4. props를 사용한 컴포넌트 간의 state 공유를 'state 올리기'라고 한다. state를 위로 이동하여 컴포넌트 간에 state를 공유하는 것이다.

## state 변수가 필요한 순간

> 지역 변수는 렌더링 간에 유지되지 않는다.  
> - 같은 컴포넌트를 두 번째로 렌더링할 때 지역 변수에 대한 변경 사항은 고려하지 않고 처음부터 렌더링한다.  
>  
> 지역 변수를 변경해도 렌더링을 일으키지 않는다.  
> - 리액트가 새로운 데이터로 다시 렌더링해야 하는 것을 인식하지 못함  

즉, 컴포넌트를 새로운 데이터로 업데이트하기 위해선 두 가지가 필요하다.  

1. 렌더링 사이에 데이터를 **유지**  
2. 리액트가 새로운 데이터로 컴포넌트를 렌더링하도록 **유발**  

`useState` 훅은 이 두 가지를 제공한다.  

1. 렌더링 간에 데이터를 유지하기 위한 **state 변수**  
2. 변수를 업데이트하고 리액트가 컴포넌트를 다시 렌더링하도록 유발하는 **state setter 함수**  

## state 변수 추가

파일 상단의 React에서 `useState`를 가져온다.  

```javascript
import { useState } from 'react';

const [index, setIndex] = useState(0);

function handleClick() {
    setIndex(index + 1);
}
```

- 이때 `index`는 state 변수, `setIndex`는 setter 함수다.  
- 여기서 사용하는 `[]` 문법은 자바스크립트의 배열 구조 분해다.  
- `useState`가 반환하는 배열에는 항상 두 개의 항목이 있다.  